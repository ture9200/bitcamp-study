<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>ex02</title>
</head>
<body>
<h1>반복문 - for(... of 객체)</h1>
<script>
"use strict"
// 일반 객체는 이 반복문을 사용할 수 없다.
// iterable 프로토콜을 구현한 객체라//  이 반복문을 사용할 수 있다.
//참고로 not iterable은 객체를 안 만들었다.
// 예) Array, Map

var obj = new Object();
obj.name = "홍길동";
obj.age = 20;
obj.tel = "1111-1111";
obj.working = true;

// 일반 객체는 for...of 반복문을 사용할 수 없다.
//실행 오류 발생!
/*
for (var v of obj) {
	console.log(v);
}
*/
console.log("---------------------");

var obj2 = new Map(); // Map으로 초기화시킨 객체는 iterable 객체이다.
// map은 키와 값을 설정할 수 있다.
obj2.set("name", "홍길동");
obj2.set("age", 20);
obj2.set("tel", "1111-1111");
obj2.set("working", true);

for (var x of obj2) {
  // x는 배열이다.
  // x[0]은 key, x[1]은 value이다.
  // map에서 값을 꺼낼 수 있는데 키와 값이 함께 들어있는 배열 , 키와 값을 배열에 담아 리턴한다.
  console.log(x);
  console.log(x[0], "=", x[1]);
}
console.log("-----------------")

// destructuring 문법을 사용하여 key와 value를 분해하여 받는다.
// 대괄호안에 변수를 두개 선언하면 넘어오는 배열개수가 딱 두개라면 알아서 0, 1, 번 값은 각각 key와 value에 분해되어서 들어가게된다. 
for (var [key, value] of obj2) {
    console.log(key, "=", value);
}


</script>
</body>
</html>
