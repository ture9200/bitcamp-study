<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>변수활용</title>
</head>

<body>
<h1>배열 다루기</h1>
<button type="button" id="x-btn" onclick="">배열 가져오기</button>
<ul>
  <li>홍길동</li>
  <li>임꺽정</li>
  <li>유관순</li>
</ul>

<script>
var xNamelist= document.querySelector("#x-namelist");
var xBtn= document.querySelector("#x-btn");
// css selector 임 
// #x-btn 은 태그 아이디 

xBtn.addEventListener("click", function() {
	//현재 요청한 자원의 경로를 기준으로 상대 경로를 지정하는것이 유지보수에 더 좋다. 
	// =>절대 경로:/로 시작하는 경우 
	//   상대 경로: /로 시작하지 않는 경우 
	// => 요청하는 실제경로는 현재 자원의 경로를 기준으로 계산한다.
	// 상대경로일 경우 현재 경로를 자동으로 붙인다. 
  fetch("test3")
  .then(function(response) {
	  return response.json();
  })
  .then(function(names) {
	  names.forEach(function(name) {
		    var li= document. createElement("li"); // <li></li>
		    li.innerHTML= name; //<li>홍길동</li> --<li>유관순</li>
		    xNamelist.appendChild(li);
		    });
	  });
});
  //result.then(function(response) {
	 // return response.json();
	 // console.log(response.json());
	 // console.log(arguments);
	  //console.log("결과받았음!");
  //});
   //result2.then(function(jsonData) {
	   //console.log(jsonData)
	   //console.log("서버가 보낸 데이터에 대해 json처리가 끝난 후 호출됨!")
    
  /*
    var names= JSON.parse(xhr.responseText);
  //서버에서 받은 JSON 형식의 배열을 자바스크립트 배열로 변환한다. 
  
  //배열에 내장된(built-in) forEach() 사용하기 
    names.forEach(function(name) {
    var li= document. createElement("li"); // <li></li>
    li.innerHTML= name; //<li>홍길동</li> --<li>유관순</li>
    xNamelist.appendChild(li);
      });
    }; 
  
    xhr.open("GET","/lang/variable/exam4/test3", true);             
    //서버에 요청 정보를 보낸다. 
    xhr.send();
    */
  
</script>
</body>
</html>