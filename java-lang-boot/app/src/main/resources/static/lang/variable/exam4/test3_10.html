<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>변수활용</title>
</head>

<body>
<h1>배열 다루기</h1>
<button type="button" id="x-btn" onclick="">배열 가져오기</button>
<ul id='x-namelist'>
<!-- li만든것을 ul태그에 집어넣는다.  -->
</ul>

<script>
var xNamelist= document. querySelector("#x-namelist");
var xBtn= document.querySelector("#x-btn");
// css selector 임 
// #x-btn 은 태그 아이디 

xBtn.addEventListener("click", function() {
	var xhr= new XMLHttpRequest();
	xhr.onload= function() { 
		
		xBtn.addEventListener("click", function () { 
			   var xhr = new XMLHTTPRequest();
			   xhr.onload = function() {
			   var names = JSON.parse(xhr.responseText);
			// 서버에서 받은 JSON 형식의 배열을 자바스크립트 배열로 변환한다. 
			   for (var name of names) {
			       var li= document.createElement("li"); //<li></li>
			              li.innerHTML = name; //<li>홍길동</li>
			              xNamelist.appendChild(li);
			              //ul태그에 자식태그로 li태그로 추가해주세요 
			   }
			 };
	xhr.open("GET","/lang/variable/exam4/test3", true); 	          
	//서버에 요청 정보를 보낸다. 
	xhr.send();
	});
</script>
</body>
</html>
