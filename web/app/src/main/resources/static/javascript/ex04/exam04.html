<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>ex04</title>
</head>
<body>
<h1>객체 - 객체에 소속된 함수가 같은 객체에 소속된 멤버 사용하기</h1>
<script>
"use strict"
// 같은 객체에 소속된 멤버(변수나 함수, 객체)를 사용하려면 참조변수 this를 반드시 붙여야 한다.
// => 자바는 생략해도 됐지만, 자바스크립트는 생략하면 안 된다.

var obj = new Object();

obj.name = "홍길동";
obj.kor = 100;
obj.eng = 90;
obj.math = 80;

// toString()은 이미 객체에 들어 있는 함수이다.
// 다음은 기존 함수를 덮어 쓴다.
obj.toString = function() {
	// 자바와 달리 객체의 프로퍼티 변수를 사용할 때는 반드시 this를 붙여야 한다.생략하면 안된다.
	// tostring으로 재정의하지않으면 기본으로 나오는데 기본으로 나오는게 마음에 안들면 재정의를 한다.
	// 기본으로 나온다면 [Object object]로 나온다. 
	return this.name + "," + this.kor + "," + this.eng + "," + this.math;
};

console.log(obj.toString()); //홍길동,100,90,80

console.log(obj);  // {name:'홍길동' , kor:100, eng:90, math:80, toString:f}
// 자바에서는 println()에 객체 주소를 주면
// println()에서 내부적으로 해당 객체의 toString() 호출한다.
// 그리고 그 리턴 값을 출력한다.
// 그러나 자바스크립트의 console.log()는
// 자바와 달리 toString()의 리턴 값을 출력하지 않는다.

obj.sum = function() { //같은 객체에 들어있는 kor, eng, math 변수의 합계를 리턴
	return this.kor + this.eng + this.math; // 항상 같은 객체의 멤버를 가리킬 때는 this를 붙여야 한다.
};

obj.aver = function() { //같은 객체에 들어있는 sum이라는 함수를 호출해  sum이 리턴한 값을 3으로 나눈 값을 리턴
	return this.sum() / 3; // 항상 같은 객체의 멤버를 가리킬 때는 this를 붙여야 한다.
};

console.log(obj.sum(), obj.aver());




</script>
</body>
</html>
