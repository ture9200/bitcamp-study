<!DOCTYPE html>
<html lang="en" dir="ltr">
<head>
  <meta charset="utf-8">
  <title>연락처</title>
</head>
<body>

  <h1>새 연락처</h1>

  <form>
  이름: <input id ="x-name" type= "text"></br>
  이메일: <input id ="x-email" type= "text"></br>
  전화: <input id= "x-tel" type= "text"></br>
  회사: <input id = "x-company" type= "text"></br>
  <button id="x-add-btn" type="button"> 등록 </button>
  </form>

<script type="text/javascript">
  var addBtn= document.querySelector("#x-add-btn");

  addBtn.onclick= function() {
    //한번밖에 안쓰기 때문에 굳이 위에 addBtn은 언급할 필요는 없다.
    //cancelBtn도 마찬가지이다.
    var name = document.querySelector ("#x-name");
    var email = document.querySelector ("#x-email");
    var tel = document.querySelector ("#x-tel");
    var company = document.querySelector ("#x-company");
    //여러 번 사용할것이면 바깥으로 뺴는게 낫다. 지금은 뺄 이유가 없음

  fetch(`/contact/add?name=${name.value}&email=${email.value}&tel=${tel.value}&company=${company.value}`)
  .then(function(response) {
    return response.text(); //json 형식 문자열 => 자바스크립트 문자열 객체
  })
  .then(function(text) {
    console.log(text);
  });
};
</script>

</body>
</html>
